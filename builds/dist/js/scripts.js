!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n||e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){(function(t,n,r,o,i,a,s,c,u){"use strict";var l=e("promise-polyfill"),f=function(e){return e&&e.__esModule?e:{default:e}}(l);e("whatwg-fetch"),window.Promise||(window.Promise=f.default);var d=e("idb");!function(){function e(){document.querySelector("#clouds").style.display="none",document.querySelector("#rain").style.display="none",document.querySelector("#snow").style.display="none",document.querySelector("#sun").style.display="none",document.querySelector("#moon").style.display="none",document.querySelector("#stars").style.display="none",document.querySelector("#lightning").style.display="none",document.querySelector("#clearLink").className="",document.querySelector("#partlyLink").className="",document.querySelector("#lightRainLink").className="",document.querySelector("#heavyRainLink").className="",document.querySelector("#stormsLink").className="",document.querySelector("#lightSnowLink").className="",document.querySelector("#heavySnowLink").className=""}function t(){e(),"day"===ge?document.querySelector("#sun").style.display="block":"night"===ge?(document.querySelector("#moon").style.display="block",document.querySelector("#stars").style.display="block"):document.querySelector("#stars").style.display="block",document.querySelector("#clearLink").className="active-link"}function n(){e(),document.querySelector("#clouds").style.display="block",document.querySelector(".right-clouds").style.display="none","day"===ge?document.querySelector("#sun").style.display="block":"night"===ge&&(document.querySelector("#moon").style.display="block"),document.querySelector("#partlyLink").className="active-link"}function r(){e(),document.querySelector("#clouds").style.display="block",document.querySelector(".right-clouds").style.display="block",document.querySelector("#rain").style.display="block",document.querySelector(".heavy").style.display="none",document.querySelector("#lightRainLink").className="active-link"}function o(){e(),document.querySelector("#clouds").style.display="block",document.querySelector(".right-clouds").style.display="block",document.querySelector("#rain").style.display="block",document.querySelector(".heavy").style.display="block",document.querySelector("#heavyRainLink").className="active-link"}function i(){e(),document.querySelector("#clouds").style.display="block",document.querySelector(".right-clouds").style.display="block",document.querySelector("#rain").style.display="block",document.querySelector("#lightning").style.display="block",document.querySelector("#stormsLink").className="active-link"}function a(){e(),document.querySelector("#clouds").style.display="block",document.querySelector(".right-clouds").style.display="block",document.querySelector("#snow").style.display="block",document.getElementById("snow").querySelector(".heavy").style.display="none",document.querySelector("#lightSnowLink").className="active-link"}function s(){e(),document.querySelector("#clouds").style.display="block",document.querySelector(".right-clouds").style.display="block",document.querySelector("#snow").style.display="block",document.getElementById("snow").querySelector(".heavy").style.display="block",document.querySelector("#heavySnowLink").className="active-link"}function c(){document.querySelector("#dayLink").className="",document.querySelector("#nightLink").className="",document.querySelector("#twilightLink").className=""}function u(){c(),document.querySelector("main").style.background="#87ceeb",document.querySelector("#dayLink").className="active-link",ge="day","active-link"===document.querySelector("#clearLink").className&&t()}function l(){c(),document.querySelector("main").style.background="#2E0854",document.querySelector("#nightLink").className="active-link",ge="night","active-link"===document.querySelector("#clearLink").className&&t()}function f(){c(),document.querySelector("main").style.background="linear-gradient(to bottom right, #2E0854 20%, #ffaa00)",document.querySelector("#twilightLink").className="active-link",ge="twilight","active-link"===document.querySelector("#clearLink").className&&t()}function h(e){b=e.location.city,g=e.current_observation.local_time_rfc822.slice(0,22),w=e.location.state,v=e.current_observation.weather,S=e.current_observation.icon_url,_=e.current_observation.temp_f,L=e.current_observation.feelslike_f,q=e.current_observation.temp_c,E=e.current_observation.feelslike_c,k=e.current_observation.relative_humidity,T=e.current_observation.wind_dir,B=e.current_observation.wind_mph,I=e.current_observation.wind_kph,A=e.current_observation.image.url,document.querySelector("#location").innerHTML=b+" , "+w,document.querySelector("#dateTime").innerHTML=""+g,document.querySelector("#icon").innerHTML="<img src="+S.replace("http","https")+" />",document.querySelector("#conditions").innerHTML=""+v,document.querySelector("#humidity").innerHTML=""+k,document.querySelector("#wind").innerHTML=T+" "+B+" MPH",document.querySelector("#actual").innerHTML=_+"&deg; F",document.querySelector("#feelsLike").innerHTML=L+"&deg; F";var c="https://www.google.com/webhp?sourceid=chrome-instant&ion=1&espv=2&ie=UTF-8#q=things%20to%20do%20in%20"+b+"%20"+w+"%20on%20a%20"+v+"%20"+ge;me<15?document.querySelector("#plan").setAttribute("href",c):(document.querySelector("#plan").setAttribute("href",c),document.querySelector("#plan").innerHTML="Plan Your Night"),document.querySelector("#thermometerTemp").setAttribute("y1",""+(150-_)),document.querySelector("#attribution").innerHTML="<img src="+A.replace("http","https")+"> <span>Weather information for Latitude:"+Math.round(100*p)/100+" and Longitude:"+Math.round(100*m)/100+" provided by <a href=https://www.wunderground.com>Weather&nbsp;Underground</a>",(v.includes("Clear")||v.includes("Smoke")||v.includes("Haze")||v.includes("Ash")||v.includes("Dust")||v.includes("Sandstorm")||v.includes("Fog")||v.includes("Sand"))&&t(),(v.includes("Cloudy")||v.includes("Clouds")||v.includes("Overcast"))&&n(),v.includes("Rain")&&o(),(v.includes("Drizzle")||v.includes("Mist"))&&r(),(v.includes("Snow")||v.includes("Ice")||v.includes("Hail"))&&(v.includes("Light")?a():s(),v.includes("Thunderstorms")&&i())}function y(e){H=e.forecast.simpleforecast.forecastday[1].date.weekday,M=e.forecast.simpleforecast.forecastday[1].date.month,P=e.forecast.simpleforecast.forecastday[1].date.day,U=e.forecast.simpleforecast.forecastday[1].conditions,x=e.forecast.simpleforecast.forecastday[1].icon_url,j=e.forecast.simpleforecast.forecastday[1].high.celsius,N=e.forecast.simpleforecast.forecastday[1].high.fahrenheit,D=e.forecast.simpleforecast.forecastday[1].low.celsius,C=e.forecast.simpleforecast.forecastday[1].low.fahrenheit,F=e.forecast.simpleforecast.forecastday[1].avewind.dir,R=e.forecast.simpleforecast.forecastday[1].avewind.kph,O=e.forecast.simpleforecast.forecastday[1].avewind.mph,W=e.forecast.simpleforecast.forecastday[1].avehumidity,G=e.forecast.simpleforecast.forecastday[2].date.weekday,J=e.forecast.simpleforecast.forecastday[2].date.month,K=e.forecast.simpleforecast.forecastday[2].date.day,z=e.forecast.simpleforecast.forecastday[2].conditions,V=e.forecast.simpleforecast.forecastday[2].icon_url,Y=e.forecast.simpleforecast.forecastday[2].high.celsius,X=e.forecast.simpleforecast.forecastday[2].high.fahrenheit,$=e.forecast.simpleforecast.forecastday[2].low.celsius,Q=e.forecast.simpleforecast.forecastday[2].low.fahrenheit,Z=e.forecast.simpleforecast.forecastday[2].avewind.dir,ee=e.forecast.simpleforecast.forecastday[2].avewind.kph,te=e.forecast.simpleforecast.forecastday[2].avewind.mph,ne=e.forecast.simpleforecast.forecastday[2].avehumidity,re=e.forecast.simpleforecast.forecastday[3].date.weekday,oe=e.forecast.simpleforecast.forecastday[3].date.month,ie=e.forecast.simpleforecast.forecastday[3].date.day,ae=e.forecast.simpleforecast.forecastday[3].conditions,se=e.forecast.simpleforecast.forecastday[3].icon_url,ce=e.forecast.simpleforecast.forecastday[3].high.celsius,ue=e.forecast.simpleforecast.forecastday[3].high.fahrenheit,le=e.forecast.simpleforecast.forecastday[3].low.celsius,fe=e.forecast.simpleforecast.forecastday[3].low.fahrenheit,de=e.forecast.simpleforecast.forecastday[3].avewind.dir,he=e.forecast.simpleforecast.forecastday[3].avewind.kph,ye=e.forecast.simpleforecast.forecastday[3].avewind.mph,pe=e.forecast.simpleforecast.forecastday[3].avehumidity,document.querySelector("#day1Date").innerHTML=H.substring(0,3)+" "+M+"/"+P,U.length<8?document.querySelector("#day1Weather").innerHTML=U:document.querySelector("#day1Weather").innerHTML=U.replace(" ","<br>"),document.querySelector("#day1Icon").innerHTML='<img src="'+x.replace("http","https")+'">',document.querySelector("#day1Temp").innerHTML=N+"/"+C+"&deg;F",document.querySelector("#day1Wind").innerHTML=F+" "+O+" MPH",document.querySelector("#day1Humidity").innerHTML=W+"%",document.querySelector("#day2Date").innerHTML=G.substring(0,3)+" "+J+"/"+K,z.length<9?document.querySelector("#day2Weather").innerHTML=z:document.querySelector("#day2Weather").innerHTML=z.replace(" ","<br>"),document.querySelector("#day2Icon").innerHTML='<img src="'+V.replace("http","https")+'">',document.querySelector("#day2Temp").innerHTML=X+"/"+Q+"&deg;F",document.querySelector("#day2Wind").innerHTML=Z+" "+te+" MPH",document.querySelector("#day2Humidity").innerHTML=ne+"%",document.querySelector("#day3Date").innerHTML=re.substring(0,3)+" "+oe+"/"+ie,ae.length<9?document.querySelector("#day3Weather").innerHTML=ae:document.querySelector("#day3Weather").innerHTML=ae.replace(" ","<br>"),document.querySelector("#day3Icon").innerHTML='<img src="'+se.replace("http","https")+'">',document.querySelector("#day3Temp").innerHTML=ue+"/"+fe+"&deg;F",document.querySelector("#day3Wind").innerHTML=de+" "+ye+" MPH",document.querySelector("#day3Humidity").innerHTML=pe+"%"}var p,m,b,g,w,v,S,_,L,q,E,k,T,B,I,A,H,M,P,U,x,j,N,D,C,F,R,O,W,G,J,K,z,V,Y,X,$,Q,Z,ee,te,ne,re,oe,ie,ae,se,ce,ue,le,fe,de,he,ye,pe,me=(new Date).getHours(),be=(new Date).getYear()+1900,ge="day",we=d.open("weather",1,function(e){e.createObjectStore("weather")}).catch(function(e){console.error("IndexedDB:",e)});we.then(function(e){return e.transaction("weather","readwrite").objectStore("weather","readwrite").get("forecastToday")}).then(function(e){h(e)}).catch(function(e){console.error("IndexedDB:",e)}),we.then(function(e){return e.transaction("weather","readwrite").objectStore("weather","readwrite").get("forecast3Day")}).then(function(e){y(e)}).catch(function(e){console.error("IndexedDB:",e)}),document.querySelector("#clearLink").addEventListener("click",t),document.querySelector("#partlyLink").addEventListener("click",n),document.querySelector("#lightRainLink").addEventListener("click",r),document.querySelector("#heavyRainLink").addEventListener("click",o),document.querySelector("#stormsLink").addEventListener("click",i),document.querySelector("#lightSnowLink").addEventListener("click",a),document.querySelector("#heavySnowLink").addEventListener("click",s),me<6||me>18?l():me>7&&me<17?u():f(),document.querySelector("#dayLink").addEventListener("click",u),document.querySelector("#nightLink").addEventListener("click",l),document.querySelector("#twilightLink").addEventListener("click",f),document.querySelector("#c").onclick=function(){document.querySelector("#c").className="active",document.querySelector("#f").className="",document.querySelector("#actual").innerHTML=q+"&deg; C",document.querySelector("#feelsLike").innerHTML=E+"&deg; C",document.querySelector("#wind").innerHTML=T+" "+I+" KPH",document.querySelector("#day1Temp").innerHTML=j+"/"+D+"&deg;C",document.querySelector("#day1Wind").innerHTML=F+" "+R+" KPH",document.querySelector("#day2Temp").innerHTML=Y+"/"+$+"&deg;C",document.querySelector("#day2Wind").innerHTML=Z+" "+ee+" KPH",document.querySelector("#day3Temp").innerHTML=ce+"/"+le+"&deg;C",document.querySelector("#day3Wind").innerHTML=de+" "+he+" KPH"},document.querySelector("#f").onclick=function(){document.querySelector("#f").className="active",document.querySelector("#c").className="",document.querySelector("#actual").innerHTML=_+"&deg; F",document.querySelector("#feelsLike").innerHTML=L+"&deg; F",document.querySelector("#wind").innerHTML=T+" "+B+" MPH",document.querySelector("#day1Temp").innerHTML=N+"/"+C+"&deg;F",document.querySelector("#day1Wind").innerHTML=F+" "+O+" MPH",document.querySelector("#day2Temp").innerHTML=X+"/"+Q+"&deg;F",document.querySelector("#day2Wind").innerHTML=Z+" "+te+" MPH",document.querySelector("#day3Temp").innerHTML=ue+"/"+fe+"&deg;F",document.querySelector("#day3Wind").innerHTML=de+" "+ye+" MPH"},navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){p=e.coords.latitude,m=e.coords.longitude;var t=new Headers,n={method:"GET",headers:t,mode:"cors",cache:"default"},r="https://api.wunderground.com/api/22b6650e820a9ff6/geolookup/conditions/q/"+p+","+m+".json";fetch(r,n).then(function(e){return e.json()}).then(function(e){console.log(e),h(e),we.then(function(t){var n=t.transaction("weather","readwrite"),r=n.objectStore("weather","readwrite");r.delete("forecastToday"),r.add(e,"forecastToday")}).catch(function(e){console.error("IndexedDB:",e)})}).catch(function(e){console.error("Network:",e)});var o="https://api.wunderground.com/api/22b6650e820a9ff6/forecast/q/"+p+","+m+".json";fetch(o,n).then(function(e){return e.json()}).then(function(e){y(e),we.then(function(t){var n=t.transaction("weather","readwrite"),r=n.objectStore("weather","readwrite");r.delete("forecast3Day"),r.add(e,"forecast3Day")}).catch(function(e){console.error("IndexedDB:",e)})}).catch(function(e){console.error("Network:",e)})}):console.log("Geolocation is not available in this browser");var ve=document.querySelector(".info-panel").clientHeight;document.querySelector(".option-panel").style.top=330+ve+"px";var Se=document.querySelector(".option-panel").clientHeight;document.querySelector("#main").style.height=ve+500+Se+"px",document.querySelector("#copy").innerHTML="&copy; Josh Boyan "+be}(),"serviceWorker"in navigator&&navigator.serviceWorker.register("https://joshboyan.com/weather-app/sw.js",{scope:"https://joshboyan.com/weather-app/"}).then(function(e){console.log("Registration succeeded. Scope is "+e.scope)}).catch(function(e){console.log("Registration failed with "+e)}),function(e){function t(){navigator.serviceWorker.ready.then(function(e){if(!e.pushManager)return alert("Your browser doesn't support push notification."),!1;e.pushManager.subscribe({userVisibleOnly:!0}).then(function(e){alert("Subscribed successfully."),console.info("Push notification subscribed."),console.log(e),o(e),r(!0)}).catch(function(e){r(!1),console.error("Push notification subscription error: ",e)})})}function n(){navigator.serviceWorker.ready.then(function(e){e.pushManager.getSubscription().then(function(e){if(!e)return void alert("Unable to unregister push notification.");e.unsubscribe().then(function(){alert("Unsubscribed successfully."),console.info("Push notification unsubscribed."),console.log(e),i(e),r(!1)}).catch(function(e){console.error(e)})}).catch(function(e){console.error("Failed to unsubscribe push notification.")})})}function r(e){a.dataset.checked=e,a.checked=e,e?(a.classList.add("active"),s.src="../images/push-on.png"):(a.classList.remove("active"),s.src="../images/push-off.png")}function o(e){var t=e.endpoint.split("gcm/send/")[1];console.log("Subscription ID",t),fetch("http://localhost:3333/api/users",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user_id:t})})}function i(e){var t=e.endpoint.split("gcm/send/")[1];fetch("http://localhost:3333/api/user/"+t,{method:"delete",headers:{Accept:"application/json","Content-Type":"application/json"}})}var a=document.getElementById("icon"),s=document.querySelector("#icon");a.addEventListener("click",function(){"true"===a.dataset.checked?n():t()}),function(){"denied"===Notification.permission?alert("User has blocked push notification."):"PushManager"in e?navigator.serviceWorker.ready.then(function(e){e.pushManager.getSubscription().then(function(e){r(!!e)}).catch(function(e){console.error("Error occurred while enabling push ",e)})}):alert("Sorry, Push notification isn't supported in your browser.")}()}(window)}).call(this,e("rH1JPG"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_1ef65c87.js","/")},{buffer:3,idb:4,"promise-polyfill":7,rH1JPG:6,"whatwg-fetch":8}],2:[function(e,t,n){(function(e,t,r,o,i,a,s,c,u){!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===i||t===l?62:t===a||t===f?63:t<s?-1:t<s+10?t-s+26+26:t<u+26?t-u:t<c+26?t-c+26:void 0}function n(e){function n(e){u[f++]=e}var r,i,a,s,c,u;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=e.length;c="="===e.charAt(l-2)?2:"="===e.charAt(l-1)?1:0,u=new o(3*e.length/4-c),a=c>0?e.length-4:e.length;var f=0;for(r=0,i=0;r<a;r+=4,i+=3)s=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===c?(s=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,n(255&s)):1===c&&(s=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,n(s>>8&255),n(255&s)),u}function r(e){function t(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}var n,r,o,i=e.length%3,a="";for(n=0,o=e.length-i;n<o;n+=3)r=(e[n]<<16)+(e[n+1]<<8)+e[n+2],a+=function(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}(r);switch(i){case 1:r=e[e.length-1],a+=t(r>>2),a+=t(r<<4&63),a+="==";break;case 2:r=(e[e.length-2]<<8)+e[e.length-1],a+=t(r>>10),a+=t(r>>4&63),a+=t(r<<2&63),a+="="}return a}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="+".charCodeAt(0),a="/".charCodeAt(0),s="0".charCodeAt(0),c="a".charCodeAt(0),u="A".charCodeAt(0),l="-".charCodeAt(0),f="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=r}(void 0===n?this.base64js={}:n)}).call(this,e("rH1JPG"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../node_modules/base64-js/lib/b64.js","/../../node_modules/base64-js/lib")},{buffer:3,rH1JPG:6}],3:[function(e,t,n){(function(t,r,o,i,a,s,c,u,l){function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);var r=typeof e;if("base64"===t&&"string"===r)for(e=x(e);e.length%4!=0;)e+="=";var i;if("number"===r)i=N(e);else if("string"===r)i=o.byteLength(e,t);else{if("object"!==r)throw new Error("First argument needs to be a number, array or string.");i=N(e.length)}var a;o._useTypedArrays?a=o._augment(new Uint8Array(i)):(a=this,a.length=i,a._isBuffer=!0);var s;if(o._useTypedArrays&&"number"==typeof e.byteLength)a._set(e);else if(C(e))for(s=0;s<i;s++)o.isBuffer(e)?a[s]=e.readUInt8(s):a[s]=e[s];else if("string"===r)a.write(e,0,t);else if("number"===r&&!o._useTypedArrays&&!n)for(s=0;s<i;s++)a[s]=0;return a}function f(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;X(a%2==0,"Invalid hex string"),r>a/2&&(r=a/2);for(var s=0;s<r;s++){var c=parseInt(t.substr(2*s,2),16);X(!isNaN(c),"Invalid hex string"),e[n+s]=c}return o._charsWritten=2*s,s}function d(e,t,n,r){return o._charsWritten=J(R(t),e,n,r)}function h(e,t,n,r){return o._charsWritten=J(O(t),e,n,r)}function y(e,t,n,r){return h(e,t,n,r)}function p(e,t,n,r){return o._charsWritten=J(G(t),e,n,r)}function m(e,t,n,r){return o._charsWritten=J(W(t),e,n,r)}function b(e,t,n){return 0===t&&n===e.length?$.fromByteArray(e):$.fromByteArray(e.slice(t,n))}function g(e,t,n){var r="",o="";n=Math.min(e.length,n);for(var i=t;i<n;i++)e[i]<=127?(r+=K(o)+String.fromCharCode(e[i]),o=""):o+="%"+e[i].toString(16);return r+K(o)}function w(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;o++)r+=String.fromCharCode(e[o]);return r}function v(e,t,n){return w(e,t,n)}function S(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;i++)o+=F(e[i]);return o}function _(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function L(e,t,n,r){r||(X("boolean"==typeof n,"missing or invalid endian"),X(void 0!==t&&null!==t,"missing offset"),X(t+1<e.length,"Trying to read beyond buffer length"));var o=e.length;if(!(t>=o)){var i;return n?(i=e[t],t+1<o&&(i|=e[t+1]<<8)):(i=e[t]<<8,t+1<o&&(i|=e[t+1])),i}}function q(e,t,n,r){r||(X("boolean"==typeof n,"missing or invalid endian"),X(void 0!==t&&null!==t,"missing offset"),X(t+3<e.length,"Trying to read beyond buffer length"));var o=e.length;if(!(t>=o)){var i;return n?(t+2<o&&(i=e[t+2]<<16),t+1<o&&(i|=e[t+1]<<8),i|=e[t],t+3<o&&(i+=e[t+3]<<24>>>0)):(t+1<o&&(i=e[t+1]<<16),t+2<o&&(i|=e[t+2]<<8),t+3<o&&(i|=e[t+3]),i+=e[t]<<24>>>0),i}}function E(e,t,n,r){if(r||(X("boolean"==typeof n,"missing or invalid endian"),X(void 0!==t&&null!==t,"missing offset"),X(t+1<e.length,"Trying to read beyond buffer length")),!(t>=e.length)){var o=L(e,t,n,!0);return 32768&o?-1*(65535-o+1):o}}function k(e,t,n,r){if(r||(X("boolean"==typeof n,"missing or invalid endian"),X(void 0!==t&&null!==t,"missing offset"),X(t+3<e.length,"Trying to read beyond buffer length")),!(t>=e.length)){var o=q(e,t,n,!0);return 2147483648&o?-1*(4294967295-o+1):o}}function T(e,t,n,r){return r||(X("boolean"==typeof n,"missing or invalid endian"),X(t+3<e.length,"Trying to read beyond buffer length")),Q.read(e,t,n,23,4)}function B(e,t,n,r){return r||(X("boolean"==typeof n,"missing or invalid endian"),X(t+7<e.length,"Trying to read beyond buffer length")),Q.read(e,t,n,52,8)}function I(e,t,n,r,o){o||(X(void 0!==t&&null!==t,"missing value"),X("boolean"==typeof r,"missing or invalid endian"),X(void 0!==n&&null!==n,"missing offset"),X(n+1<e.length,"trying to write beyond buffer length"),z(t,65535));var i=e.length;if(!(n>=i))for(var a=0,s=Math.min(i-n,2);a<s;a++)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function A(e,t,n,r,o){o||(X(void 0!==t&&null!==t,"missing value"),X("boolean"==typeof r,"missing or invalid endian"),X(void 0!==n&&null!==n,"missing offset"),X(n+3<e.length,"trying to write beyond buffer length"),z(t,4294967295));var i=e.length;if(!(n>=i))for(var a=0,s=Math.min(i-n,4);a<s;a++)e[n+a]=t>>>8*(r?a:3-a)&255}function H(e,t,n,r,o){o||(X(void 0!==t&&null!==t,"missing value"),X("boolean"==typeof r,"missing or invalid endian"),X(void 0!==n&&null!==n,"missing offset"),X(n+1<e.length,"Trying to write beyond buffer length"),V(t,32767,-32768)),n>=e.length||(t>=0?I(e,t,n,r,o):I(e,65535+t+1,n,r,o))}function M(e,t,n,r,o){o||(X(void 0!==t&&null!==t,"missing value"),X("boolean"==typeof r,"missing or invalid endian"),X(void 0!==n&&null!==n,"missing offset"),X(n+3<e.length,"Trying to write beyond buffer length"),V(t,2147483647,-2147483648)),n>=e.length||(t>=0?A(e,t,n,r,o):A(e,4294967295+t+1,n,r,o))}function P(e,t,n,r,o){o||(X(void 0!==t&&null!==t,"missing value"),X("boolean"==typeof r,"missing or invalid endian"),X(void 0!==n&&null!==n,"missing offset"),X(n+3<e.length,"Trying to write beyond buffer length"),Y(t,3.4028234663852886e38,-3.4028234663852886e38)),n>=e.length||Q.write(e,t,n,r,23,4)}function U(e,t,n,r,o){o||(X(void 0!==t&&null!==t,"missing value"),X("boolean"==typeof r,"missing or invalid endian"),X(void 0!==n&&null!==n,"missing offset"),X(n+7<e.length,"Trying to write beyond buffer length"),Y(t,1.7976931348623157e308,-1.7976931348623157e308)),n>=e.length||Q.write(e,t,n,r,52,8)}function x(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function j(e,t,n){return"number"!=typeof e?n:(e=~~e)>=t?t:e>=0?e:(e+=t,e>=0?e:0)}function N(e){return e=~~Math.ceil(+e),e<0?0:e}function D(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function C(e){return D(e)||o.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function R(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else{var o=n;r>=55296&&r<=57343&&n++;for(var i=encodeURIComponent(e.slice(o,n+1)).substr(1).split("%"),a=0;a<i.length;a++)t.push(parseInt(i[a],16))}}return t}function O(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function W(e){for(var t,n,r,o=[],i=0;i<e.length;i++)t=e.charCodeAt(i),n=t>>8,r=t%256,o.push(r),o.push(n);return o}function G(e){return $.toByteArray(e)}function J(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);o++)t[o+n]=e[o];return o}function K(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function z(e,t){X("number"==typeof e,"cannot write a non-number as a number"),X(e>=0,"specified a negative value for writing an unsigned value"),X(e<=t,"value is larger than maximum value for type"),X(Math.floor(e)===e,"value has a fractional component")}function V(e,t,n){X("number"==typeof e,"cannot write a non-number as a number"),X(e<=t,"value larger than maximum allowed value"),X(e>=n,"value smaller than minimum allowed value"),X(Math.floor(e)===e,"value has a fractional component")}function Y(e,t,n){X("number"==typeof e,"cannot write a non-number as a number"),X(e<=t,"value larger than maximum allowed value"),X(e>=n,"value smaller than minimum allowed value")}function X(e,t){if(!e)throw new Error(t||"Failed assertion")}var $=e("base64-js"),Q=e("ieee754");n.Buffer=o,n.SlowBuffer=o,n.INSPECT_MAX_BYTES=50,o.poolSize=8192,o._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.isBuffer=function(e){return!(null===e||void 0===e||!e._isBuffer)},o.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=R(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=G(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw new Error("Unknown encoding")}return n},o.concat=function(e,t){if(X(D(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new o(0);if(1===e.length)return e[0];var n;if("number"!=typeof t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var r=new o(t),i=0;for(n=0;n<e.length;n++){var a=e[n];a.copy(r,i),i+=a.length}return r},o.prototype.write=function(e,t,n,r){if(isFinite(t))isFinite(n)||(r=n,n=void 0);else{var o=r;r=t,t=n,n=o}t=Number(t)||0;var i=this.length-t;n?(n=Number(n))>i&&(n=i):n=i,r=String(r||"utf8").toLowerCase();var a;switch(r){case"hex":a=f(this,e,t,n);break;case"utf8":case"utf-8":a=d(this,e,t,n);break;case"ascii":a=h(this,e,t,n);break;case"binary":a=y(this,e,t,n);break;case"base64":a=p(this,e,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":a=m(this,e,t,n);break;default:throw new Error("Unknown encoding")}return a},o.prototype.toString=function(e,t,n){var r=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):n=r.length)===t)return"";var o;switch(e){case"hex":o=S(r,t,n);break;case"utf8":case"utf-8":o=g(r,t,n);break;case"ascii":o=w(r,t,n);break;case"binary":o=v(r,t,n);break;case"base64":o=b(r,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=_(r,t,n);break;default:throw new Error("Unknown encoding")}return o},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.copy=function(e,t,n,r){var i=this;if(n||(n=0),r||0===r||(r=this.length),t||(t=0),r!==n&&0!==e.length&&0!==i.length){X(r>=n,"sourceEnd < sourceStart"),X(t>=0&&t<e.length,"targetStart out of bounds"),X(n>=0&&n<i.length,"sourceStart out of bounds"),X(r>=0&&r<=i.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a=r-n;if(a<100||!o._useTypedArrays)for(var s=0;s<a;s++)e[s+t]=this[s+n];else e._set(this.subarray(n,n+a),t)}},o.prototype.slice=function(e,t){var n=this.length;if(e=j(e,n,0),t=j(t,n,n),o._useTypedArrays)return o._augment(this.subarray(e,t));for(var r=t-e,i=new o(r,void 0,!0),a=0;a<r;a++)i[a]=this[a+e];return i},o.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},o.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},o.prototype.readUInt8=function(e,t){if(t||(X(void 0!==e&&null!==e,"missing offset"),X(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},o.prototype.readUInt16LE=function(e,t){return L(this,e,!0,t)},o.prototype.readUInt16BE=function(e,t){return L(this,e,!1,t)},o.prototype.readUInt32LE=function(e,t){return q(this,e,!0,t)},o.prototype.readUInt32BE=function(e,t){return q(this,e,!1,t)},o.prototype.readInt8=function(e,t){if(t||(X(void 0!==e&&null!==e,"missing offset"),X(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length)){return 128&this[e]?-1*(255-this[e]+1):this[e]}},o.prototype.readInt16LE=function(e,t){return E(this,e,!0,t)},o.prototype.readInt16BE=function(e,t){return E(this,e,!1,t)},o.prototype.readInt32LE=function(e,t){return k(this,e,!0,t)},o.prototype.readInt32BE=function(e,t){return k(this,e,!1,t)},o.prototype.readFloatLE=function(e,t){return T(this,e,!0,t)},o.prototype.readFloatBE=function(e,t){return T(this,e,!1,t)},o.prototype.readDoubleLE=function(e,t){return B(this,e,!0,t)},o.prototype.readDoubleBE=function(e,t){return B(this,e,!1,t)},o.prototype.writeUInt8=function(e,t,n){n||(X(void 0!==e&&null!==e,"missing value"),X(void 0!==t&&null!==t,"missing offset"),X(t<this.length,"trying to write beyond buffer length"),z(e,255)),t>=this.length||(this[t]=e)},o.prototype.writeUInt16LE=function(e,t,n){I(this,e,t,!0,n)},o.prototype.writeUInt16BE=function(e,t,n){I(this,e,t,!1,n)},o.prototype.writeUInt32LE=function(e,t,n){A(this,e,t,!0,n)},o.prototype.writeUInt32BE=function(e,t,n){A(this,e,t,!1,n)},o.prototype.writeInt8=function(e,t,n){n||(X(void 0!==e&&null!==e,"missing value"),X(void 0!==t&&null!==t,"missing offset"),X(t<this.length,"Trying to write beyond buffer length"),V(e,127,-128)),t>=this.length||(e>=0?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},o.prototype.writeInt16LE=function(e,t,n){H(this,e,t,!0,n)},o.prototype.writeInt16BE=function(e,t,n){H(this,e,t,!1,n)},o.prototype.writeInt32LE=function(e,t,n){M(this,e,t,!0,n)},o.prototype.writeInt32BE=function(e,t,n){M(this,e,t,!1,n)},o.prototype.writeFloatLE=function(e,t,n){P(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){P(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){U(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){U(this,e,t,!1,n)},o.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),"string"==typeof e&&(e=e.charCodeAt(0)),X("number"==typeof e&&!isNaN(e),"value is not a number"),X(n>=t,"end < start"),n!==t&&0!==this.length){X(t>=0&&t<this.length,"start out of bounds"),X(n>=0&&n<=this.length,"end out of bounds");for(var r=t;r<n;r++)this[r]=e}},o.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=F(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},o.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(o._useTypedArrays)return new o(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")}
;var Z=o.prototype;o._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=Z.get,e.set=Z.set,e.write=Z.write,e.toString=Z.toString,e.toLocaleString=Z.toString,e.toJSON=Z.toJSON,e.copy=Z.copy,e.slice=Z.slice,e.readUInt8=Z.readUInt8,e.readUInt16LE=Z.readUInt16LE,e.readUInt16BE=Z.readUInt16BE,e.readUInt32LE=Z.readUInt32LE,e.readUInt32BE=Z.readUInt32BE,e.readInt8=Z.readInt8,e.readInt16LE=Z.readInt16LE,e.readInt16BE=Z.readInt16BE,e.readInt32LE=Z.readInt32LE,e.readInt32BE=Z.readInt32BE,e.readFloatLE=Z.readFloatLE,e.readFloatBE=Z.readFloatBE,e.readDoubleLE=Z.readDoubleLE,e.readDoubleBE=Z.readDoubleBE,e.writeUInt8=Z.writeUInt8,e.writeUInt16LE=Z.writeUInt16LE,e.writeUInt16BE=Z.writeUInt16BE,e.writeUInt32LE=Z.writeUInt32LE,e.writeUInt32BE=Z.writeUInt32BE,e.writeInt8=Z.writeInt8,e.writeInt16LE=Z.writeInt16LE,e.writeInt16BE=Z.writeInt16BE,e.writeInt32LE=Z.writeInt32LE,e.writeInt32BE=Z.writeInt32BE,e.writeFloatLE=Z.writeFloatLE,e.writeFloatBE=Z.writeFloatBE,e.writeDoubleLE=Z.writeDoubleLE,e.writeDoubleBE=Z.writeDoubleBE,e.fill=Z.fill,e.inspect=Z.inspect,e.toArrayBuffer=Z.toArrayBuffer,e}}).call(this,e("rH1JPG"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../node_modules/buffer/index.js","/../../node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:5,rH1JPG:6}],4:[function(e,t,n){(function(e,n,r,o,i,a,s,c,u){"use strict";!function(){function e(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var o,i=new Promise(function(i,a){o=e[t].apply(e,r),n(o).then(i,a)});return i.request=o,i}function o(e,t,n){var o=r(e,t,n);return o.then(function(e){if(e)return new l(e,o.request)})}function i(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function a(e,t,n,o){o.forEach(function(o){o in n.prototype&&(e.prototype[o]=function(){return r(this[t],o,arguments)})})}function s(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function c(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return o(this[t],r,arguments)})})}function u(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function h(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function y(e){this._db=e}i(u,"_index",["name","keyPath","multiEntry","unique"]),a(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),i(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new l(e,t._request)})})})}),f.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},i(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},i(d,"_tx",["objectStoreNames","mode"]),s(d,"_tx",IDBTransaction,["abort"]),h.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},i(h,"_db",["name","version","objectStoreNames"]),s(h,"_db",IDBDatabase,["deleteObjectStore","close"]),y.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},i(y,"_db",["name","version","objectStoreNames"]),s(y,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[f,u].forEach(function(n){n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],o=this._store||this._index,i=o[t].apply(o,n.slice(0,-1));i.onsuccess=function(){r(i.result)}}})}),[u,f].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(o){n.iterateCursor(e,function(e){return e?(r.push(e.value),void 0!==t&&r.length==t?void o(r):void e.continue()):void o(r)})})})});var p={open:function(e,t,n){var o=r(indexedDB,"open",[e,t]),i=o.request;return i.onupgradeneeded=function(e){n&&n(new h(i.result,e.oldVersion,i.transaction))},o.then(function(e){return new y(e)})},delete:function(e){return r(indexedDB,"deleteDatabase",[e])}};void 0!==t?(t.exports=p,t.exports.default=t.exports):self.idb=p}()}).call(this,e("rH1JPG"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../node_modules/idb/lib/idb.js","/../../node_modules/idb/lib")},{buffer:3,rH1JPG:6}],5:[function(e,t,n){(function(e,t,r,o,i,a,s,c,u){n.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?o-1:0,d=n?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=u}return(h?-1:1)*a*Math.pow(2,i-r)},n.write=function(e,t,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,y=r?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),t+=a+f>=1?d/c:d*Math.pow(2,1-f),t*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*c-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=y,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+h]=255&a,h+=y,a/=256,u-=8);e[n+h-y]|=128*p}}).call(this,e("rH1JPG"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../node_modules/ieee754/index.js","/../../node_modules/ieee754")},{buffer:3,rH1JPG:6}],6:[function(e,t,n){(function(e,n,r,o,i,a,s,c,u){function l(){}var e=t.exports={};e.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){n.shift()()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=l,e.addListener=l,e.once=l,e.off=l,e.removeListener=l,e.removeAllListeners=l,e.emit=l,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("rH1JPG"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../node_modules/process/browser.js","/../../node_modules/process")},{buffer:3,rH1JPG:6}],7:[function(e,t,n){(function(e,n,r,o,i,a,s,c,u){!function(e){function n(){}function r(e,t){return function(){e.apply(t,arguments)}}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function i(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?a:s)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}a(t.promise,r)})}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void l(r(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)i(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}var f=setTimeout;o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var r=new this.constructor(n);return i(this,new u(e,t,r)),r},o.all=function(e){return new o(function(t,n){function r(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){r(e,t)},n)}o[e]=a,0==--i&&t(o)}catch(e){n(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(e);if(0===o.length)return t([]);for(var i=o.length,a=0;a<o.length;a++)r(a,o[a])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){f(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=o:e.Promise||(e.Promise=o)}(this)}).call(this,e("rH1JPG"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../node_modules/promise-polyfill/promise.js","/../../node_modules/promise-polyfill")},{buffer:3,rH1JPG:6}],8:[function(e,t,n){(function(e,t,n,r,o,i,a,s,c){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return b.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function c(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function u(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(b.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(b.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(b.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(b.arrayBuffer&&b.blob&&w(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!b.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!v(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},b.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},b.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return S.indexOf(t)>-1?t:e}function h(e,t){t=t||{};var n=t.body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function p(e){var t=new o;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t}function m(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var b={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(b.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=function(e){return e&&DataView.prototype.isPrototypeOf(e)},v=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};o.prototype.append=function(e,r){e=t(e),r=n(r);var o=this.map[e];this.map[e]=o?o+","+r:r},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,r){this.map[t(e)]=n(r)},o.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},b.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var S=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},f.call(h.prototype),f.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var _=[301,302,303,307,308];m.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=h,e.Response=m,e.fetch=function(e,t){return new Promise(function(n,r){var o=new h(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:p(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;n(new m(t,e))},i.onerror=function(){r(new TypeError("Network request failed"))},i.ontimeout=function(){r(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials&&(i.withCredentials=!0),"responseType"in i&&b.blob&&(i.responseType="blob"),o.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)}).call(this,e("rH1JPG"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../node_modules/whatwg-fetch/fetch.js","/../../node_modules/whatwg-fetch")},{buffer:3,rH1JPG:6}]},{},[1]);